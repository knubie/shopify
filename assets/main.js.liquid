$(window).load(function() {
		
	$('.thumb').click(function(){
		$('#big-img').attr('src', $(this).attr('src'));
	});
	
	$('#update-link').click(function(){
		$('#update-button').click();
	});
	$('#checkout-link').click(function(){
		$('#checkout-button').click();
	});
	
	/* $('input[placeholder], textarea[placeholder]').placeholder(); */
	
	var agent=navigator.userAgent.toLowerCase();
	var is_iphone = (agent.indexOf('iphone')!=-1);
	var is_android = (agent.indexOf('android')!=-1);
	if (!is_iphone && !is_android) {
		
		$('.carousel').nivoSlider({
	    effect: 'fade', // Specify sets like: 'fold,fade,sliceDown'
	    slices: 15, // For slice animations
	    boxCols: 8, // For box animations
	    boxRows: 4, // For box animations
	    animSpeed: 500, // Slide transition speed
	    pauseTime: 5000, // How long each slide will show
	    startSlide: 0, // Set starting Slide (0 index)
	    directionNav: false, // Next & Prev navigation
	    directionNavHide: true, // Only show on hover
	    controlNav: true, // 1,2,3... navigation
	    controlNavThumbs: false, // Use thumbnails for Control Nav
	    controlNavThumbsFromRel: false, // Use image rel for thumbs
	    controlNavThumbsSearch: '.jpg', // Replace this with...
	    controlNavThumbsReplace: '_thumb.jpg', // ...this in thumb Image src
	    keyboardNav: true, // Use left & right arrows
	    pauseOnHover: true, // Stop animation while hovering
	    manualAdvance: false, // Force manual transitions
	    captionOpacity: 0.8, // Universal caption opacity
	    prevText: 'Prev', // Prev directionNav text
	    nextText: 'Next', // Next directionNav text
	    beforeChange: function(){}, // Triggers before a slide transition
	    afterChange: function(){}, // Triggers after a slide transition
	    slideshowEnd: function(){}, // Triggers after all slides have been shown
	    lastSlide: function(){}, // Triggers when last slide is shown
	    afterLoad: function(){} // Triggers when slider has loaded
		});
		
		if ($(window).width() > 480) {
			$.waypoints.settings.scrollThrottle = 30;
			$('.search-holder').waypoint(function() {
				$('.nav').toggleClass('sticky-nav');
				$(this).toggleClass('sticky-search');
			});			
		}

	}
	
	if (is_iphone || is_android) {
		$('.carousel').hide();
	}
	
	$('input[placeholder], textarea[placeholder]').placeholder();
	
	var cart = Raphael(document.getElementById('cart-img'), 16, 13);
	var search = Raphael(document.getElementById('magnify'), 16, 16);
	var cartSet = cart.set();
	var searchSet = search.set();
	cart.importSVG('<svg><circle cx="7.43" cy="11.692" r="1.135"/><circle cx="12.851" cy="11.692" r="1.135"/><path d="M14.183,8.505H6.287L3.569,0.429C3.491,0.194,3.27,0.036,3.022,0.036H0.621c-0.317,0-0.576,0.258-0.576,0.577 s0.258,0.576,0.576,0.576h1.988l2.718,8.076C5.405,9.5,5.625,9.658,5.873,9.658h8.31c0.317,0,0.575-0.258,0.575-0.575 C14.758,8.763,14.5,8.505,14.183,8.505z"/><path d="M15.417,2.218L5.644,1.367C5.328,1.339,5.152,1.563,5.253,1.863l1.708,5.072c0.101,0.3,0.444,0.547,0.761,0.547h7.134 c0.318,0,0.605-0.259,0.637-0.574l0.437-4.066C15.964,2.526,15.734,2.246,15.417,2.218z"/></svg>', cartSet);
	search.importSVG('<svg><path d="M15.928,13.487l-4.69-4.69c0.449-0.836,0.703-1.793,0.703-2.808c0-3.296-2.67-5.965-5.966-5.965 c-3.294,0-5.963,2.669-5.963,5.965c0,3.292,2.669,5.965,5.963,5.965c1.003,0,1.946-0.25,2.777-0.688l4.697,4.699L15.928,13.487z M2,5.989c0-2.193,1.784-3.977,3.975-3.977c2.193,0,3.978,1.784,3.978,3.977c0,2.192-1.785,3.974-3.978,3.974 C3.784,9.963,2,8.181,2,5.989z"/></svg>', searchSet);
	cartSet.attr("fill", '{{ settings.accent_color }}');
	searchSet.attr("fill", '{{ settings.quaternary_color }}');
	if ( $('#rss') ){
		var rss = Raphael(document.getElementById('rss'), 16, 16);
		var rssSet = rss.set();
		rss.importSVG('<svg><path d="M0.002,8.208v2.28c1.479,0,2.871,0.577,3.917,1.628C4.952,13.154,5.525,14.531,5.541,16h2.28 C7.789,11.698,4.294,8.208,0.002,8.208z"/><path d="M0.006,4.166v2.28c5.252,0,9.528,4.282,9.561,9.555h2.279C11.813,9.469,6.516,4.166,0.006,4.166z"/><circle cx="1.58" cy="14.419" r="1.578"/></svg>', rssSet);
		rssSet.attr("fill", '{{ settings.tertiary_color }}');
	}
});